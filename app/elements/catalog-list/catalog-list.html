<!--
-->
<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="/bower_components/paper-styles/paper-styles.html">
<link rel="import" href="/bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="/bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="/bower_components/neon-animation/neon-animations.html">
<link rel="import" href="list-view.html">
<link rel="import" href="sub-list-view.html">
<link rel="import" href="full-view.html">

<dom-module id="catalog-list">

    <style>
    :host {
        display: block;
    }
    neon-animated-pages {
        height: 100%;
    }
    </style>

    <template>
        <iron-ajax auto
            url="/data/collection/collections.json"
            handle-as="json"
            last-response="{{collectionData}}"></iron-ajax>

        <neon-animated-pages id="pages" selected="0">

            <list-view
                data="[[collectionData]]"
                selected="{{selected}}"
                on-item-click="_onItemClick"></list-view>

            <sub-list-view
                data="[[selected.categories]]"
                sub-selected="{{subSelected}}"
                on-item-click="_onItemClick2"
                entry-animation="slide-from-right-animation"></sub-list-view>

            <full-view
                on-close="_onClose"
                selected="{{subSelected}}"></full-view>

        </neon-animated-pages>
    </template>

</dom-module>
<script>
Polymer({

    is: 'catalog-list',

    properties: {

    },

    handleResponse: function(data) {
        console.log('handleResponse', data);
    },

    _onItemClick: function(event) {
        this.$.pages.selected = 1;
        console.log('_onItemClick', event.detail.item);
    },
    _onItemClick2: function(event) {
        this.$.pages.selected = 2;
        //console.log('_onItemClick', event.detail.item);
    },

    _onClose: function() {
        this.$.pages.selected = 0;
    }

});
</script>
